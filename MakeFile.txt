# Makefile for RISC-V Processor Simulation

# Compiler and Simulator
IVERILOG = iverilog
VVP = vvp
GTKWAVE = gtkwave

# Source files
SRC = control_unit.v datapath.v riscv_top.v testbench.v

# Output executable
OUT = riscv_sim

# Default rule
all: compile run

# Compile Verilog files
compile:
	$(IVERILOG) -o $(OUT) $(SRC)

# Run the simulation
run:
	$(VVP) $(OUT)

# Open waveform viewer (if using GTKWave)
view:
	$(GTKWAVE) waveform.vcd &

# Clean generated files
clean:
	rm -f $(OUT) waveform.vcd
